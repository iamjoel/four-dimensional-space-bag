"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[5249],{7341:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(5094),r=n(9090);const s=function(e){if(!e||!document.getRootNode)return document;var t,n=Array.isArray(e)?e:[e];return function(e){return e.every((function(e){var t=(0,r.n)(e);return!!t&&(t.getRootNode()instanceof ShadowRoot||void 0)}))}(n)&&(t=(0,r.n)(n[0]))?t.getRootNode():document};var l=n(7159);function a(e,t,n){void 0===n&&(n="click");var a=(0,o.Z)(e);(0,l.Z)((function(){var e=function(e){(Array.isArray(t)?t:[t]).some((function(t){var n=(0,r.n)(t);return!n||n.contains(e.target)}))||a.current(e)},o=s(t),l=Array.isArray(n)?n:[n];return l.forEach((function(t){return o.addEventListener(t,e)})),function(){l.forEach((function(t){return o.removeEventListener(t,e)}))}}),Array.isArray(n)?n:[n],t)}},6726:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>y,contentTitle:()=>g,default:()=>N,frontMatter:()=>k,metadata:()=>h,toc:()=>w});var o=n(6229),r=n(8404),s=n(6291),l=n(3282),a=n(2682),c=n(2848),i=n(7341),u=n(9880);const d=function(e){void 0===e&&(e=document.body);const[t,n]=r.useState({render:()=>null,remove:()=>null}),o=r.useCallback((e=>({render:t=>{let{children:n}=t;return u.createPortal(n,e)},remove:()=>u.unmountComponentAtNode(e)})),[]);return(0,r.useEffect)((()=>{e&&t.remove();const r=o(e);return n(r),()=>{r.remove()}}),[e]),t.render},m=()=>{const e=d(),[t,{setTrue:n,setFalse:o}]=(0,c.Z)(!1),[s,l]=(0,r.useState)({left:0,top:0}),a=(0,r.useRef)(null),u=(0,r.useCallback)((e=>{const t=document.body.getBoundingClientRect().top;l({left:e.pageX,top:e.pageY+t}),n()}),[]);return(0,i.Z)((()=>{o()}),a),r.createElement("div",{className:" flex justify-center items-center h-20 shadow overflow-hidden text-center cursor-pointer ",onClick:u,ref:a},"\u8fd9\u662f\u4e00\u4e2a\u8d85\u51fa overflow: hidden \u7684\u5143\u7d20\u3002\u70b9\u6211\u5f39\u51fa\u5185\u5bb9\u3002",r.createElement(e,null,r.createElement("div",{className:"fixed p-3 rounded bg-indigo-500 text-white",style:{display:t?"block":"none",left:s.left,top:s.top}},"\u5b50\u5143\u7d20\u5185\u5bb9")))};var p=n(6970);const v=function(e){const[t,n]=(0,r.useState)(e),o=(0,r.useRef)(e);return[t,e=>{n(e),o.current=e},()=>o.current]},f=e=>{let{}=e;const[t,n,o]=v(0);(0,r.useEffect)((()=>{const e=setInterval((()=>{console.log(`[useEffect] count ${o()};${t}`)}),3e3);return()=>{clearInterval(e)}}),[]);const s=(0,r.useCallback)((()=>{console.log(`[useCallback] count ${o()};${t}`)}),[]);return r.createElement("div",null,r.createElement(p.Z,{type:"primary",onClick:()=>{n(t+1),s()}},"count: ",t),r.createElement("div",null,"Open console to view logs: The counter prints the value every 3 seconds."))},b=r.memo(f),k={},g="\u5de5\u5177 hooks",h={unversionedId:"libs/hooks/overview",id:"libs/hooks/overview",title:"\u5de5\u5177 hooks",description:"UseGetStateDemo",source:"@site/docs/libs/hooks/overview.mdx",sourceDirName:"libs/hooks",slug:"/libs/hooks/overview",permalink:"/four-dimensional-space-bag/site/build/docs/libs/hooks/overview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"libs",previous:{title:"\u64ad\u653e\u5668\u8fdb\u5ea6\u63a7\u5236\u6761",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/compound/media-player-progress"},next:{title:"\u5de5\u5177\u65b9\u6cd5",permalink:"/four-dimensional-space-bag/site/build/docs/libs/utils/overview"}},y={},w=[{value:"UseGetStateDemo",id:"usegetstatedemo",level:2},{value:"usePortal",id:"useportal",level:2}],x={toc:w},E="wrapper";function N(e){let{components:t,...n}=e;return(0,s.kt)(E,(0,o.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"\u5de5\u5177-hooks"},"\u5de5\u5177 hooks"),(0,s.kt)("h2",{id:"usegetstatedemo"},"UseGetStateDemo"),(0,s.kt)("p",null,"\u603b\u662f\u8fd4\u56de\u6700\u65b0\u7684 state \u503c\u3002\u89e3\u51b3\u5728 useEffect \u7684\u5f02\u6b65\u51fd\u6570 \u548c useCallback \u4e2d\u51fa\u73b0\u62ff\u65e7\u7684 state \u7684\u60c5\u51b5\u3002"),(0,s.kt)(l.Z,{browserOnly:!0,className:"space-x-3",mdxType:"Demo"},(0,s.kt)(b,{mdxType:"UseGetStateDemo"})),(0,s.kt)("h2",{id:"useportal"},"usePortal"),(0,s.kt)("p",null,"\u5c06\u67d0\u4e2a\u5143\u7d20\u79fb\u52a8\u5230\u5c42\u7ea7\u66f4\u6d45\u7684\u5b50\u5143\u7d20\u4e0a\u3002",(0,s.kt)("br",{parentName:"p"}),"\n",(0,s.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u573a\u666f\uff1a")," \u5b50\u5143\u7d20\u7684\u90e8\u5206\u5185\u5bb9\u60f3\u8d85\u51fa overflow: hidden \u6216 \u5e26\u6eda\u52a8\u6761\u7684\u7236\u5143\u7d20\u65f6\uff0c\u4ecd\u7136\u663e\u793a\u5168\u3002"),(0,s.kt)(l.Z,{browserOnly:!0,className:"space-x-3",mdxType:"Demo"},(0,s.kt)(m,{mdxType:"UsePortalDemo"})),(0,s.kt)(a.Z,{content:"const Portal = usePortal(portal\u5230\u7684\u5143\u7d20\uff0c\u9ed8\u8ba4\u662f document.body)\n\nreturn (\n  <Portal>\n    <div\n      className='...'\n      style={{\n        display: isShow ? 'block' : 'none'\n      }}\n    >\n      Portal \u5185\u5bb9\n    </div>\n  </Portal>\n)",mdxType:"Code"}))}N.isMDXComponent=!0},2682:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(8404),r=n(7549),s=n(6776);const l=e=>{let{language:t="jsx",title:n,content:l}=e;const[a,c]=(0,o.useState)(!1);return o.createElement(s.Z,null,(()=>o.createElement("div",{className:"code mt-5"},o.createElement("div",{className:"mb-3 flex justify-end space-x-3"},o.createElement("div",{className:"box-border flex justify-center items-center rounded-full border border-solid w-[28px] h-[28px] p-[5px] cursor-pointer",style:{borderColor:a?"rgb(29, 33, 41)":"rgb(229, 230, 225)",backgroundColor:a?"rgb(29, 33, 41)":"transparent",color:a?"#fff":"inherit"},onClick:()=>c(!a)},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-full h-full"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})))),a&&o.createElement(r.Z,{language:t,title:n,showLineNumbers:!0,children:l}))))},a=o.memo(l)},3282:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(8404),r=n(6776),s=n(4640);const l=e=>{let{children:t,contentSize:n="full",padding:l="p-12",className:a,browserOnly:c=!0}=e;const i="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],u=o.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${l}\n    `},o.createElement("div",{className:(0,s.Z)(i,"mx-auto",a)},t));return o.createElement(o.Fragment,null,c?o.createElement(r.Z,null,(()=>o.createElement(o.Fragment,null,u))):u)}}}]);