"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[83],{8794:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>C,contentTitle:()=>E,default:()=>M,frontMatter:()=>v,metadata:()=>w,toc:()=>h});var o=n(9772),r=n(8404),l=n(6291),s=n(3282),a=n(2682),c=n(2364),m=n(6498),i=n(8292),u=n(9880);const d="wrap_T3NI",p="menuWrap_KoJu",b="menuItem_JfGj",f=e=>{let{menus:t,onAction:n,children:o,className:l=""}=e;const[s,{setTrue:a,setFalse:c}]=(0,m.Z)(!1),[u,f]=(0,r.useState)({left:0,top:0}),k=(0,r.useRef)(null);(0,r.useLayoutEffect)((()=>{if(!s||!k.current)return;const e=window.innerHeight,{height:t}=k.current.getBoundingClientRect();u.top+t>e&&f({...u,top:u.top-t})}),[u.left]),(0,i.Z)((()=>{c()}),k);const y=x(document.body);return r.createElement("div",{className:`${d} ${l}`,onContextMenu:e=>{e.preventDefault(),a(),f({left:e.pageX,top:e.pageY})}},o,r.createElement(y,null,r.createElement("div",{className:p,style:{left:u.left,top:u.top,display:s?"block":"none"},ref:k},t.map((e=>{return r.createElement("div",{key:e.key,className:b,onClick:(t=e.key,()=>{c(),n(t)})},e.node);var t})))))},k=r.memo(f),x=e=>{const[t,n]=r.useState({render:()=>null,remove:()=>null}),o=r.useCallback((e=>({render:t=>{let{children:n}=t;return u.createPortal(n,e)},remove:()=>u.unmountComponentAtNode(e)})),[]);return(0,r.useEffect)((()=>{e&&t.remove();const r=o(e);return n(r),()=>{r.remove()}}),[e]),t.render},y=e=>{let{}=e;const[t,n]=(0,r.useState)();return r.createElement("div",null,r.createElement(k,{menus:[{key:"create",node:"\u521b\u5efa"},{key:"copy",node:r.createElement("div",{className:"flex justify-between"},r.createElement("span",null,"\u590d\u5236"),r.createElement("span",{style:{color:"#77778C"}},"\u2318C"))}],onAction:n},r.createElement(c.Z,{type:"primary"},"\u53f3\u51fb\u70b9\u6211")),t&&`\u521a\u521a\u70b9\u4e86\uff1a${t}`)},g=r.memo(y),v={},E="\u4e0a\u4e0b\u6587\u83dc\u5355",w={unversionedId:"libs/components/base/context-menu/readme",id:"libs/components/base/context-menu/readme",title:"\u4e0a\u4e0b\u6587\u83dc\u5355",description:"<Code content={",source:"@site/docs/libs/components/base/context-menu/readme.mdx",sourceDirName:"libs/components/base/context-menu",slug:"/libs/components/base/context-menu/",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/context-menu/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"libs",previous:{title:"\u6eda\u52a8\u8f93\u5165\u6761",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/slider/"},next:{title:"\u5361\u7247",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/card/"}},C={},h=[],N={toc:h},Z="wrapper";function M(e){let{components:t,...n}=e;return(0,l.kt)(Z,(0,o.Z)({},N,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"\u4e0a\u4e0b\u6587\u83dc\u5355"},"\u4e0a\u4e0b\u6587\u83dc\u5355"),(0,l.kt)(s.Z,{browserOnly:!0,mdxType:"Demo"},(0,l.kt)(g,{mdxType:"ContextMenuDemo"})),(0,l.kt)(a.Z,{content:"<ContextMenu\n  menus={[\n    {\n      key: 'create',\n      node: '\u521b\u5efa'\n    },\n    {\n      key: 'copy',\n      node: (\n        <div className=\"flex justify-between\">\n            <span>\u590d\u5236</span>\n            <span style={{color: '#77778C'}}>\u2318C</span>\n          </div>\n      )\n    }\n  ]}\n  onAction={\u83dc\u5355\u9009\u9879\u70b9\u51fb\u56de\u8c03} // (action: string) => void\n>\n  <Button type=\"primary\">\n    \u89e6\u53d1\u5143\u7d20\n  </Button>\n</ContextMenu>",mdxType:"Code"}),(0,l.kt)("p",null,"\u652f\u6301\uff1a"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},"\u70b9\u83dc\u5355\u5916\u7684\u5176\u4ed6\u5730\u65b9\u6d88\u5931\u3002"),(0,l.kt)("li",{parentName:"ol"},"\u81ea\u5b9a\u4e49\u83dc\u5355\u9009\u9879\u3002")))}M.isMDXComponent=!0},2682:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(8404),r=n(3546);const l=e=>{let{language:t="jsx",title:n,content:l}=e;const[s,a]=(0,o.useState)(!1);return o.createElement("div",{className:"code mt-5"},o.createElement("div",{className:"mb-3 flex justify-end space-x-3"},o.createElement("div",{className:"box-border flex justify-center items-center rounded-full border border-solid w-[28px] h-[28px] p-[5px] cursor-pointer",style:{borderColor:s?"rgb(29, 33, 41)":"rgb(229, 230, 225)",backgroundColor:s?"rgb(29, 33, 41)":"transparent",color:s?"#fff":"inherit"},onClick:()=>a(!s)},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-full h-full"},o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})))),s&&o.createElement(r.Z,{language:t,title:n,showLineNumbers:!0,children:l}))},s=o.memo(l)},3282:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(8404),r=n(4419),l=n(4640);const s=e=>{let{children:t,contentSize:n="full",padding:s="p-12",className:a,browserOnly:c}=e;const m="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],i=o.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${s}\n    `},o.createElement("div",{className:(0,l.Z)(m,"mx-auto",a)},t));return o.createElement(o.Fragment,null,c?o.createElement(r.Z,null,(()=>o.createElement(o.Fragment,null,i))):i)}}}]);