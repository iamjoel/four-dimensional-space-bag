"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[88],{3852:(e,t,n)=>{n.d(t,{c:()=>h});var r=n(6844),o=n(6316),l=n(6108),a=n(6628),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)},c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};var i=r.forwardRef((function(e,t){var n=e.className,o=e.style,i=e.children,u=c(e,["className","style","children"]),d=(0,(0,r.useContext)(a.M).getPrefixCls)("btn-group"),m=(0,l.c)(d,n);return r.createElement("div",s({ref:t,className:m,style:o},u),i)}));i.displayName="ButtonGroup";const u=i;var d=n(1384),m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},m.apply(this,arguments)},f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},p=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,l=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=l.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=l.return)&&n.call(l)}finally{if(o)throw o.error}}return a},y=/^[\u4e00-\u9fa5]{2}$/;var v={htmlType:"button",type:"default",shape:"square"};var g=(0,r.forwardRef)((function(e,t){var n,s=(0,r.useContext)(a.M),c=s.getPrefixCls,i=s.size,u=s.autoInsertSpaceInButton,g=s.componentConfig,h=s.rtl,b=(0,d.c)(e,v,null==g?void 0:g.Button),w=b.style,x=b.className,k=b.children,E=b.htmlType,O=b.type,N=b.status,C=b.size,P=b.shape,S=b.href,j=b.anchorProps,T=b.disabled,D=b.loading,R=b.loadingFixedWidth,A=b.icon,B=b.iconOnly,L=b.onClick,I=b.long,M=f(b,["style","className","children","htmlType","type","status","size","shape","href","anchorProps","disabled","loading","loadingFixedWidth","icon","iconOnly","onClick","long"]),F=D?r.createElement(o.c,null):A,G=p((0,r.useState)(!1),2),U=G[0],$=G[1],z=(0,r.useRef)(),W=t||z;(0,r.useEffect)((function(){if(u&&W&&W.current){var e=W.current.textContent;y.test(e)?U||$(!0):U&&$(!1)}}),[W.current,u]);var X=c("btn"),_="default"===O?"secondary":O,Y=(0,l.c)(X,X+"-"+_,X+"-size-"+(C||i),X+"-shape-"+P,((n={})[X+"-long"]=I,n[X+"-status-"+N]=N,n[X+"-loading-fixed-width"]=R,n[X+"-loading"]=D,n[X+"-link"]=S,n[X+"-icon-only"]=B||!k&&0!==k&&F,n[X+"-disabled"]=T,n[X+"-two-chinese-chars"]=U,n[X+"-rtl"]=h,n),x),q=function(e){D||T?"function"==typeof(null==e?void 0:e.preventDefault)&&e.preventDefault():L&&L(e)},H=r.createElement(r.Fragment,null,F,function(e){var t=[],n=!1;return r.Children.forEach(e,(function(e){var r="string"==typeof e||"number"==typeof e;if(r&&n){var o=t.length-1,l=t[o];t[o]=""+l+e}else t.push(e);n=r})),r.Children.map(t,(function(e){return"string"==typeof e?r.createElement("span",null,e):e}))}(k));if(S){var J=m({},j);return T?delete J.href:J.href=S,r.createElement("a",m({ref:W},M,J,{style:w,className:Y,onClick:q}),H)}return r.createElement("button",m({ref:W},M,{style:w,className:Y,type:E,disabled:T,onClick:q}),H)}));g.__BYTE_BUTTON=!0,g.Group=u,g.displayName="Button";const h=g},148:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(1664),o=n(7600);const l=function(e){if(!e||!document.getRootNode)return document;var t,n=Array.isArray(e)?e:[e];return function(e){return e.every((function(e){var t=(0,o.O)(e);return!!t&&(t.getRootNode()instanceof ShadowRoot||void 0)}))}(n)&&(t=(0,o.O)(n[0]))?t.getRootNode():document};var a=n(6136);function s(e,t,n){void 0===n&&(n="click");var s=(0,r.c)(e);(0,a.c)((function(){var e=function(e){(Array.isArray(t)?t:[t]).some((function(t){var n=(0,o.O)(t);return!n||n.contains(e.target)}))||s.current(e)},r=l(t),a=Array.isArray(n)?n:[n];return a.forEach((function(t){return r.addEventListener(t,e)})),function(){a.forEach((function(t){return r.removeEventListener(t,e)}))}}),Array.isArray(n)?n:[n],t)}},9388:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>w,contentTitle:()=>h,default:()=>O,frontMatter:()=>g,metadata:()=>b,toc:()=>x});var r=n(1516),o=n(6844),l=n(8656),a=n(8128),s=n(9476),c=n(638),i=n(148),u=n(1411);const d=function(e){void 0===e&&(e=document.body);const[t,n]=o.useState({render:()=>null,remove:()=>null}),r=o.useCallback((e=>({render:t=>{let{children:n}=t;return u.createPortal(n,e)},remove:()=>u.unmountComponentAtNode(e)})),[]);return(0,o.useEffect)((()=>{e&&t.remove();const o=r(e);return n(o),()=>{o.remove()}}),[e]),t.render},m=()=>{const e=d(),[t,{setTrue:n,setFalse:r}]=(0,c.c)(!1),[l,a]=(0,o.useState)({left:0,top:0}),s=(0,o.useRef)(null),u=(0,o.useCallback)((e=>{const t=document.body.getBoundingClientRect().top;a({left:e.pageX,top:e.pageY+t}),n()}),[]);return(0,i.c)((()=>{r()}),s),o.createElement("div",{className:" flex justify-center items-center h-20 shadow overflow-hidden text-center cursor-pointer ",onClick:u,ref:s},"\u8fd9\u662f\u4e00\u4e2a\u8d85\u51fa overflow: hidden \u7684\u5143\u7d20\u3002\u70b9\u6211\u5f39\u51fa\u5185\u5bb9\u3002",o.createElement(e,null,o.createElement("div",{className:"fixed p-3 rounded bg-indigo-500 text-white",style:{display:t?"block":"none",left:l.left,top:l.top}},"\u5b50\u5143\u7d20\u5185\u5bb9")))};var f=n(3852);const p=function(e){const[t,n]=(0,o.useState)(e),r=(0,o.useRef)(e);return[t,e=>{n(e),r.current=e},()=>r.current]},y=e=>{let{}=e;const[t,n,r]=p(0);(0,o.useEffect)((()=>{const e=setInterval((()=>{console.log(`[useEffect] count ${r()};${t}`)}),3e3);return()=>{clearInterval(e)}}),[]);const l=(0,o.useCallback)((()=>{console.log(`[useCallback] count ${r()};${t}`)}),[]);return o.createElement("div",null,o.createElement(f.c,{type:"primary",onClick:()=>{n(t+1),l()}},"count: ",t),o.createElement("div",null,"Open console to view logs: The counter prints the value every 3 seconds."))},v=o.memo(y),g={},h="\u5de5\u5177 hooks",b={unversionedId:"libs/hooks/overview",id:"libs/hooks/overview",title:"\u5de5\u5177 hooks",description:"UseGetStateDemo",source:"@site/docs/libs/hooks/overview.mdx",sourceDirName:"libs/hooks",slug:"/libs/hooks/overview",permalink:"/four-dimensional-space-bag/site/build/docs/libs/hooks/overview",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"libs",previous:{title:"\u64ad\u653e\u5668\u8fdb\u5ea6\u63a7\u5236\u6761",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/compound/media-player-progress"},next:{title:"\u5de5\u5177\u65b9\u6cd5",permalink:"/four-dimensional-space-bag/site/build/docs/libs/utils/overview"}},w={},x=[{value:"UseGetStateDemo",id:"usegetstatedemo",level:2},{value:"usePortal",id:"useportal",level:2}],k={toc:x},E="wrapper";function O(e){let{components:t,...n}=e;return(0,l.yg)(E,(0,r.c)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,l.yg)("h1",{id:"\u5de5\u5177-hooks"},"\u5de5\u5177 hooks"),(0,l.yg)("h2",{id:"usegetstatedemo"},"UseGetStateDemo"),(0,l.yg)("p",null,"\u603b\u662f\u8fd4\u56de\u6700\u65b0\u7684 state \u503c\u3002\u89e3\u51b3\u5728 useEffect \u7684\u5f02\u6b65\u51fd\u6570 \u548c useCallback \u4e2d\u51fa\u73b0\u62ff\u65e7\u7684 state \u7684\u60c5\u51b5\u3002"),(0,l.yg)(a.c,{browserOnly:!0,className:"space-x-3",mdxType:"Demo"},(0,l.yg)(v,{mdxType:"UseGetStateDemo"})),(0,l.yg)("h2",{id:"useportal"},"usePortal"),(0,l.yg)("p",null,"\u5c06\u67d0\u4e2a\u5143\u7d20\u79fb\u52a8\u5230\u5c42\u7ea7\u66f4\u6d45\u7684\u5b50\u5143\u7d20\u4e0a\u3002",(0,l.yg)("br",{parentName:"p"}),"\n",(0,l.yg)("strong",{parentName:"p"},"\u4f7f\u7528\u573a\u666f\uff1a")," \u5b50\u5143\u7d20\u7684\u90e8\u5206\u5185\u5bb9\u60f3\u8d85\u51fa overflow: hidden \u6216 \u5e26\u6eda\u52a8\u6761\u7684\u7236\u5143\u7d20\u65f6\uff0c\u4ecd\u7136\u663e\u793a\u5168\u3002"),(0,l.yg)(a.c,{browserOnly:!0,className:"space-x-3",mdxType:"Demo"},(0,l.yg)(m,{mdxType:"UsePortalDemo"})),(0,l.yg)(s.c,{content:"const Portal = usePortal(portal\u5230\u7684\u5143\u7d20\uff0c\u9ed8\u8ba4\u662f document.body)\n\nreturn (\n  <Portal>\n    <div\n      className='...'\n      style={{\n        display: isShow ? 'block' : 'none'\n      }}\n    >\n      Portal \u5185\u5bb9\n    </div>\n  </Portal>\n)",mdxType:"Code"}))}O.isMDXComponent=!0},9476:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(6844),o=n(820),l=n(3656);const a=e=>{let{language:t="jsx",title:n,content:a}=e;const[s,c]=(0,r.useState)(!1);return r.createElement(l.c,null,(()=>r.createElement("div",{className:"code mt-5"},r.createElement("div",{className:"mb-3 flex justify-end space-x-3"},r.createElement("div",{className:"box-border flex justify-center items-center rounded-full border border-solid w-[28px] h-[28px] p-[5px] cursor-pointer",style:{borderColor:s?"rgb(29, 33, 41)":"rgb(229, 230, 225)",backgroundColor:s?"rgb(29, 33, 41)":"transparent",color:s?"#fff":"inherit"},onClick:()=>c(!s)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-full h-full"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})))),s&&r.createElement(o.c,{language:t,title:n,showLineNumbers:!0,children:a}))))},s=r.memo(a)},8128:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(6844),o=n(3656),l=n(816);const a=e=>{let{children:t,contentSize:n="full",padding:a="p-12",className:s,browserOnly:c=!0}=e;const i="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],u=r.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${a}\n    `},r.createElement("div",{className:(0,l.c)(i,"mx-auto",s)},t));return r.createElement(r.Fragment,null,c?r.createElement(o.c,null,(()=>r.createElement(r.Fragment,null,u))):u)}}}]);