"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[320],{638:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(6088),i=n(6844);const o=function(e,t){void 0===e&&(e=!1);var n=(0,r.o5)((0,i.useState)(e),2),o=n[0],s=n[1];return[o,(0,i.useMemo)((function(){var n=void 0===t?!e:t;return{toggle:function(){return s((function(t){return t===e?n:e}))},set:function(e){return s(e)},setLeft:function(){return s(e)},setRight:function(){return s(n)}}}),[])]};function s(e){void 0===e&&(e=!1);var t=(0,r.o5)(o(!!e),2),n=t[0],s=t[1],l=s.toggle,c=s.set;return[n,(0,i.useMemo)((function(){return{toggle:l,set:function(e){return c(!!e)},setTrue:function(){return c(!0)},setFalse:function(){return c(!1)}}}),[])]}},5600:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>a,default:()=>g,frontMatter:()=>c,metadata:()=>d,toc:()=>m});var r=n(1516),i=(n(6844),n(8656)),o=n(8128),s=n(9476),l=n(1328);const c={},a="\u5217\u8868\u65e0\u9650\u52a0\u8f7d",d={unversionedId:"libs/components/base/infinite-list/readme",id:"libs/components/base/infinite-list/readme",title:"\u5217\u8868\u65e0\u9650\u52a0\u8f7d",description:"\u57fa\u7840\u7528\u6cd5",source:"@site/docs/libs/components/base/infinite-list/readme.mdx",sourceDirName:"libs/components/base/infinite-list",slug:"/libs/components/base/infinite-list/",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/infinite-list/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"libs",previous:{title:"\u9009\u62e9\u5668",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/select/"},next:{title:"Toast",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/toast/"}},u={},m=[{value:"\u57fa\u7840\u7528\u6cd5",id:"\u57fa\u7840\u7528\u6cd5",level:2},{value:"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d",id:"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d",level:2}],f={toc:m},p="wrapper";function g(e){let{components:t,...n}=e;return(0,i.yg)(p,(0,r.c)({},f,n,{components:t,mdxType:"MDXLayout"}),(0,i.yg)("h1",{id:"\u5217\u8868\u65e0\u9650\u52a0\u8f7d"},"\u5217\u8868\u65e0\u9650\u52a0\u8f7d"),(0,i.yg)("h2",{id:"\u57fa\u7840\u7528\u6cd5"},"\u57fa\u7840\u7528\u6cd5"),(0,i.yg)(o.c,{mdxType:"Demo"},(0,i.yg)(l.c,{mdxType:"InfiniteListDemo"})),(0,i.yg)(s.c,{content:'<InfiniteList\n  className="w-40 mx-auto"\n  height={ITEM_HEIGHT * ITEM_COUNT}\n  isLoading={isLoading}\n  isLoadAll={isLoadAll}\n  onReachBottom={fetchNextPage}\n>\n  {renderList()}\n</InfiniteList>',mdxType:"Code"}),(0,i.yg)("h2",{id:"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d"},"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d"),(0,i.yg)(o.c,{mdxType:"Demo"},(0,i.yg)(l.c,{dir:"hor",mdxType:"InfiniteListDemo"})),(0,i.yg)(s.c,{content:"<InfiniteList\n  direction={Direction.hor}\n  width={ITEM_WIDTH * ITEM_COUNT}\n  ...\n>\n  {renderList()}\n</InfiniteList>",mdxType:"Code"}))}g.isMDXComponent=!0},1328:(e,t,n)=>{n.d(t,{c:()=>a});var r=n(6844),i=n(638),o=n(816);let s=function(e){return e.hor="hor",e.ver="ver",e}({});const l=e=>{let{direction:t=s.ver,className:n="",height:i=0,width:o=0,children:l,isLoading:c,isLoadAll:a,onReachBottom:d}=e;const u=t===s.ver,m=u?{height:i}:{width:o},f=(0,r.useRef)(null);return r.createElement("div",{ref:f,className:`${u?"overflow-y-auto":"flex items-center overflow-x-auto"} ${n}`,style:m,onScroll:e=>{if(c||a)return;const t=f.current;if(!t)return;const{scrollTop:n,scrollHeight:r,clientHeight:i,scrollLeft:o,scrollWidth:s,clientWidth:l}=t;(u?n+i===r:o+l===s)&&d()}},l,c&&r.createElement("div",{className:u?"text-center":"flex-shrink-0 px-3"},"\u52a0\u8f7d\u4e2d..."))},c=r.memo(l);const a=function(e){let{dir:t=s.ver}=e;const n=t===s.ver,[l,a]=(0,r.useState)([]),[d,u]=(0,r.useState)(1),[m,{setTrue:f}]=(0,i.c)(!1),[p,{setTrue:g,setFalse:h}]=(0,i.c)(!1),b=async()=>{g();const e=await function(e){void 0===e&&(e=1);if(e>5)return new Promise((e=>{setTimeout((()=>{e({isLoadedAll:!0,list:[]})}),1e3)}));{const t=[],n=10*(e-1);for(let e=1;e<11;e++){const r=n+e;t.push({id:r,name:`Holly ${r}`})}return new Promise((e=>{setTimeout((()=>{e({isLoadedAll:!1,list:t})}),1e3)}))}}(d);h(),a([...l,...e.list]),u(d+1),e.isLoadedAll&&f()};return(0,r.useEffect)((()=>{b()}),[]),r.createElement("div",{className:(0,o.c)("mx-auto",n?"w-24":"w-[520px]")},r.createElement(c,{height:182,width:520,isLoading:p,isLoadAll:m,onReachBottom:b,direction:t},l.map((e=>r.createElement("div",{key:e.id,className:(0,o.c)("h-7 leading-7 shadow-md pl-3",!n&&"w-20 flex-shrink-0")},e.name)))))}},3656:(e,t,n)=>{n.d(t,{c:()=>o});var r=n(6844),i=n(9176);function o(e){let{children:t,fallback:n}=e;return(0,i.c)()?r.createElement(r.Fragment,null,t?.()):n??null}},9476:(e,t,n)=>{n.d(t,{c:()=>l});var r=n(6844),i=n(820),o=n(3656);const s=e=>{let{language:t="jsx",title:n,content:s}=e;const[l,c]=(0,r.useState)(!1);return r.createElement(o.c,null,(()=>r.createElement("div",{className:"code mt-5"},r.createElement("div",{className:"mb-3 flex justify-end space-x-3"},r.createElement("div",{className:"box-border flex justify-center items-center rounded-full border border-solid w-[28px] h-[28px] p-[5px] cursor-pointer",style:{borderColor:l?"rgb(29, 33, 41)":"rgb(229, 230, 225)",backgroundColor:l?"rgb(29, 33, 41)":"transparent",color:l?"#fff":"inherit"},onClick:()=>c(!l)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-full h-full"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})))),l&&r.createElement(i.c,{language:t,title:n,showLineNumbers:!0,children:s}))))},l=r.memo(s)},8128:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(6844),i=n(3656),o=n(816);const s=e=>{let{children:t,contentSize:n="full",padding:s="p-12",className:l,browserOnly:c=!0}=e;const a="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],d=r.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${s}\n    `},r.createElement("div",{className:(0,o.c)(a,"mx-auto",l)},t));return r.createElement(r.Fragment,null,c?r.createElement(i.c,null,(()=>r.createElement(r.Fragment,null,d))):d)}},6088:(e,t,n)=>{n.d(t,{o5:()=>r});Object.create;function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);