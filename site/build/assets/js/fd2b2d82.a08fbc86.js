"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[2326],{5569:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(8404);const i=function(e=!1,t){const[n,i]=(0,s.useState)(e);return[n,(0,s.useMemo)((()=>{const n=void 0===t?!e:t;return{toggle:()=>i((t=>t===e?n:e)),set:e=>i(e),setLeft:()=>i(e),setRight:()=>i(n)}}),[])]};function l(e=!1){const[t,{toggle:n,set:l}]=i(e);return[t,(0,s.useMemo)((()=>({toggle:n,set:e=>l(!!e),setTrue:()=>l(!0),setFalse:()=>l(!1)})),[])]}},3052:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>v,contentTitle:()=>b,default:()=>k,frontMatter:()=>h,metadata:()=>g,toc:()=>x});var s=n(8476),i=n(8404),l=n(6291),o=n(3282),r=n(2682),a=n(5569),c=n(4640);let d;!function(e){e.hor="hor",e.ver="ver"}(d||(d={}));const m=e=>{let{direction:t=d.ver,className:n="",height:s=0,width:l=0,children:o,isLoading:r,isLoadAll:a,onReachBottom:c}=e;const m=t===d.ver,u=m?{height:s}:{width:l},f=(0,i.useRef)(null);return i.createElement("div",{ref:f,className:`${m?"overflow-y-auto":"flex items-center overflow-x-auto"} ${n}`,style:u,onScroll:e=>{if(r||a)return;const t=f.current;if(!t)return;const{scrollTop:n,scrollHeight:s,clientHeight:i,scrollLeft:l,scrollWidth:o,clientWidth:d}=t;(m?n+i===s:l+d===o)&&c()}},o,r&&i.createElement("div",{className:m?"text-center":"flex-shrink-0 px-3"},"\u52a0\u8f7d\u4e2d..."))},u=i.memo(m),f=function(e){if(void 0===e&&(e=1),e>5)return new Promise((e=>{setTimeout((()=>{e({isLoadedAll:!0,list:[]})}),1e3)}));{const t=[],n=10*(e-1);for(let e=1;e<11;e++){let s=n+e;t.push({id:s,name:`Holly ${s}`})}return new Promise((e=>{setTimeout((()=>{e({isLoadedAll:!1,list:t})}),1e3)}))}},p=e=>{let{dir:t=d.ver}=e;const n=t===d.ver,[s,l]=(0,i.useState)([]),[o,r]=(0,i.useState)(1),[m,{setTrue:p}]=(0,a.Z)(!1),[h,{setTrue:b,setFalse:g}]=(0,a.Z)(!1),v=async()=>{b();const e=await f(o);g(),l([...s,...e.list]),r(o+1),e.isLoadedAll&&p()};return(0,i.useEffect)((()=>{v()}),[]),i.createElement("div",{className:(0,c.Z)("mx-auto",n?"w-24":"w-[520px]")},i.createElement(u,{height:182,width:520,isLoading:h,isLoadAll:m,onReachBottom:v,direction:t},s.map((e=>i.createElement("div",{key:e.id,className:(0,c.Z)("h-7 leading-7 shadow-md pl-3",!n&&"w-20 flex-shrink-0")},e.name)))))},h={},b="\u5217\u8868\u65e0\u9650\u52a0\u8f7d",g={unversionedId:"libs/components/base/infinite-list/readme",id:"libs/components/base/infinite-list/readme",title:"\u5217\u8868\u65e0\u9650\u52a0\u8f7d",description:"\u57fa\u7840\u7528\u6cd5",source:"@site/docs/libs/components/base/infinite-list/readme.mdx",sourceDirName:"libs/components/base/infinite-list",slug:"/libs/components/base/infinite-list/",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/infinite-list/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"libs",previous:{title:"\u9009\u62e9\u5668",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/select/"},next:{title:"\u6eda\u52a8\u8f93\u5165\u6761",permalink:"/four-dimensional-space-bag/site/build/docs/libs/components/base/slider/"}},v={},x=[{value:"\u57fa\u7840\u7528\u6cd5",id:"\u57fa\u7840\u7528\u6cd5",level:2},{value:"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d",id:"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d",level:2}],w={toc:x};function k(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,s.Z)({},w,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"\u5217\u8868\u65e0\u9650\u52a0\u8f7d"},"\u5217\u8868\u65e0\u9650\u52a0\u8f7d"),(0,l.kt)("h2",{id:"\u57fa\u7840\u7528\u6cd5"},"\u57fa\u7840\u7528\u6cd5"),(0,l.kt)(o.Z,{mdxType:"Demo"},(0,l.kt)(p,{mdxType:"InfiniteListDemo"})),(0,l.kt)(r.Z,{content:'<InfiniteList\n  className="w-40 mx-auto"\n  height={ITEM_HEIGHT * ITEM_COUNT}\n  isLoading={isLoading}\n  isLoadAll={isLoadAll}\n  onReachBottom={fetchNextPage}\n>\n  {renderList()}\n</InfiniteList>',mdxType:"Code"}),(0,l.kt)("h2",{id:"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d"},"\u6c34\u5e73\u65b9\u5411\u65e0\u9650\u52a0\u8f7d"),(0,l.kt)(o.Z,{mdxType:"Demo"},(0,l.kt)(p,{dir:"hor",mdxType:"InfiniteListDemo"})),(0,l.kt)(r.Z,{content:"<InfiniteList\n  direction={Direction.hor}\n  width={ITEM_WIDTH * ITEM_COUNT}\n  ...\n>\n  {renderList()}\n</InfiniteList>",mdxType:"Code"}))}k.isMDXComponent=!0},2480:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(8404),i=n(9489);function l(e){let{children:t,fallback:n}=e;return(0,i.Z)()?s.createElement(s.Fragment,null,t?.()):n??null}},2682:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(8404),i=n(1706);const l=e=>{let{language:t="jsx",title:n,content:l}=e;const[o,r]=(0,s.useState)(!1);return s.createElement("div",{className:"code mt-5"},s.createElement("div",{className:"mb-3 flex justify-end space-x-3"},s.createElement("div",{className:"box-border flex justify-center items-center rounded-full border border-solid w-[28px] h-[28px] p-[5px] cursor-pointer",style:{borderColor:o?"rgb(29, 33, 41)":"rgb(229, 230, 225)",backgroundColor:o?"rgb(29, 33, 41)":"transparent",color:o?"#fff":"inherit"},onClick:()=>r(!o)},s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-full h-full"},s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5"})))),o&&s.createElement(i.Z,{language:t,title:n,showLineNumbers:!0,children:l}))},o=s.memo(l)},3282:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(8404),i=n(2480),l=n(4640);const o=e=>{let{children:t,contentSize:n="full",padding:o="p-12",className:r,browserOnly:a}=e;const c="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],d=s.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${o}\n    `},s.createElement("div",{className:(0,l.Z)(c,"mx-auto",r)},t));return s.createElement(s.Fragment,null,a?s.createElement(i.Z,null,(()=>s.createElement(s.Fragment,null,d))):d)}}}]);