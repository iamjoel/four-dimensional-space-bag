"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9225],{6631:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>S,contentTitle:()=>I,default:()=>$,frontMatter:()=>D,metadata:()=>R,toc:()=>O});var l=n(6229),o=n(8404),r=n(6291),a=n(3282),s=n(6970),i=n(1728),m=n(2080),c=n(4617),d=n(2457);const p=o.createContext(null);function u(){const e=o.useContext(p);if(null==e)throw new Error("PortalToFollowElem components must be wrapped in <PortalToFollowElem />");return e}function f(e){let{children:t,...n}=e;const l=function(e){let{placement:t="bottom",open:n,offset:l=0,onOpenChange:r}=void 0===e?{}:e;const a=r,s=(0,m.YF)({placement:t,open:n,onOpenChange:a,whileElementsMounted:c.Me,middleware:[(0,d.cv)(l),(0,d.RR)({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),(0,d.uY)({padding:5})]}),i=s.context,p=(0,m.XI)(i,{move:!1,enabled:null==n}),u=(0,m.KK)(i,{enabled:null==n}),f=(0,m.bQ)(i),E=(0,m.qs)(i,{role:"tooltip"}),g=(0,m.NI)([p,u,f,E]);return o.useMemo((()=>({open:n,setOpen:a,...g,...s})),[n,a,g,s])}(n);return o.createElement(p.Provider,{value:l},t)}const E=o.forwardRef(((e,t)=>{let{children:n,asChild:r=!1,...a}=e;const s=u(),i=n.ref,c=(0,m.qq)([s.refs.setReference,t,i]);return r&&o.isValidElement(n)?o.cloneElement(n,s.getReferenceProps({ref:c,...a,...n.props,"data-state":s.open?"open":"closed"})):o.createElement("div",(0,l.Z)({ref:c,className:"inline-block","data-state":s.open?"open":"closed"},s.getReferenceProps(a)),n)}));E.displayName="PortalToFollowElemTrigger";const g=o.forwardRef(((e,t)=>{let{style:n,...r}=e;const a=u(),s=(0,m.qq)([a.refs.setFloating,t]);return a.open?o.createElement(m.ll,null,o.createElement("div",(0,l.Z)({ref:s,style:{...a.floatingStyles,...n}},a.getFloatingProps(r)))):null}));g.displayName="PortalToFollowElemContent";const h=s.Z.Group;const y=function(){const[e,t]=(0,o.useState)(!1),[n,l]=(0,o.useState)("top"),[r,a]=(0,o.useState)("middle"),m="middle"===r?n:`${n}-${r}`,[c,d]=(0,o.useState)(0);return(0,o.useEffect)((()=>{t(!0)}),[m,c]),o.createElement("div",null,o.createElement("div",{className:"overflow-y-auto h-[200px]"},o.createElement("div",{className:"flex justify-center h-[400px]"},o.createElement(f,{open:e,onOpenChange:t,placement:m,offset:c},o.createElement(E,{className:"h-40",onClick:()=>t((e=>!e))},o.createElement(s.Z,{type:"outline",className:"w-40 !h-40"},"Click me")),o.createElement(g,{className:"z-50"},o.createElement(s.Z,{type:"primary"},"My tooltip"))))),o.createElement("div",{className:"mt-10 space-y-2"},o.createElement("div",null,"\u65b9\u5411\uff1a",o.createElement(h,null,o.createElement(s.Z,{type:"top"===n?"primary":"outline",shape:"round",onClick:()=>l("top")},"\u4e0a"),o.createElement(s.Z,{type:"bottom"===n?"primary":"outline",shape:"round",onClick:()=>l("bottom")},"\u4e0b"),o.createElement(s.Z,{type:"left"===n?"primary":"outline",shape:"round",onClick:()=>l("left")},"\u5de6"),o.createElement(s.Z,{type:"right"===n?"primary":"outline",shape:"round",onClick:()=>l("right")},"\u53f3"))),o.createElement("div",null,"\u4fa7\u8f74\u65b9\u5411\uff1a",o.createElement(h,null,o.createElement(s.Z,{type:"start"===r?"primary":"outline",shape:"round",onClick:()=>a("start")},"\u5f00\u59cb"),o.createElement(s.Z,{type:"middle"===r?"primary":"outline",shape:"round",onClick:()=>a("middle")},"\u5c45\u4e2d"),o.createElement(s.Z,{type:"end"===r?"primary":"outline",shape:"round",onClick:()=>a("end")},"\u7ed3\u675f"))),o.createElement("div",{className:"flex space-x-2 items-center"},o.createElement("div",{className:"shrink-0"},"\u79bb Trigger \u7684\u8ddd\u79bb"),o.createElement(i.Z,{value:c,onChange:d}))))};var v=n(4563),k=n(7421),w=n.n(k),b=n(2848);const x="actionItem_gvHT",N="btn_crdi",C="open_HwxH",Z=e=>{let{isItemHovering:t}=e;const[n,l]=(0,o.useState)(!1),r=(0,o.useRef)(null),[a,{setTrue:s,setFalse:i}]=(0,b.Z)(!1);return(0,o.useEffect)((()=>{t||a||l(!1)}),[t,a]),o.createElement(f,{open:n,onOpenChange:l,placement:"bottom-end",offset:4},o.createElement(E,{onClick:()=>l((e=>!e))},o.createElement("div",{className:w()(N,"h-6 w-6 rounded-md border-none py-1",n&&`${C} !bg-gray-100 !shadow-none`)})),o.createElement(g,{className:"z-50"},o.createElement("div",{ref:r,className:"min-w-[120px] p-1 bg-white rounded-lg border border--gray-200 shadow-lg",onMouseEnter:s,onMouseLeave:i,onClick:e=>{e.stopPropagation()}},o.createElement("div",{className:w()(x,"hover:bg-gray-50 group")},"\u521b\u5efa"))))},T=o.memo(Z);function P(e){let{name:t}=e;const n=(0,o.useRef)(null),l=(0,v.Z)(n);return o.createElement("div",{ref:n,className:"flex h-8 items-center justify-between hover:bg-gray-200 px-2 rounded-lg text-sm font-normal"},o.createElement("div",null,t),o.createElement("div",{className:"shrink-0 h-6"},o.createElement(T,{isItemHovering:l})))}const F=()=>o.createElement("div",null,o.createElement("div",null,"\u79fb\u5230item\u53f3\u4fa7\uff0c\u70b9\u51fb \u6309\u94ae"),o.createElement("div",{className:"w-[300px] p-1 space-y-1 bg-white rounded-md shadow-md"},["Item1","Item2","Item3"].map((e=>o.createElement(P,{key:e,name:e}))))),M=o.memo(F),D={},I="\u5143\u7d20\u8ddf\u968f(Portal to follow elem)",R={unversionedId:"frontend/scenario/portal/index",id:"frontend/scenario/portal/index",title:"\u5143\u7d20\u8ddf\u968f(Portal to follow elem)",description:"\u57fa\u4e8e\uff1afloating-ui \u505a\u7684\u5c01\u88c5\u3002",source:"@site/docs/frontend/scenario/portal/index.mdx",sourceDirName:"frontend/scenario/portal",slug:"/frontend/scenario/portal/",permalink:"/four-dimensional-space-bag/site/build/docs/frontend/scenario/portal/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"frontend",previous:{title:"\u89e3\u6790&\u751f\u6210 CSV",permalink:"/four-dimensional-space-bag/site/build/docs/frontend/scenario/csv/"},next:{title:"\u62d6\u653e\u751f\u6210\u9875\u9762",permalink:"/four-dimensional-space-bag/site/build/docs/frontend/scenario/dnd-page/"}},S={},O=[],q={toc:O},H="wrapper";function $(e){let{components:t,...n}=e;return(0,r.kt)(H,(0,l.Z)({},q,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u5143\u7d20\u8ddf\u968fportal-to-follow-elem"},"\u5143\u7d20\u8ddf\u968f(Portal to follow elem)"),(0,r.kt)("p",null,"\u57fa\u4e8e\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://floating-ui.com"},"floating-ui")," \u505a\u7684\u5c01\u88c5\u3002\n\u53ef\u4ee5\u505a Tooltip\u3002\u529f\u80fd\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u63a7\u5236\u5f39\u51fa\u5185\u5bb9\u7684\u65b9\u5411\u3002\u4e0a\u4e0b\u5de6\u53f3\uff0c\u4ee5\u53ca\u4fa7\u8f74\u7684\u5f00\u59cb\uff0c\u5c45\u4e2d\uff0c\u7ed3\u675f\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5f39\u51fa\u5185\u5bb9\u662f Portal \u5230 body \u4e0b\u7684\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u6eda\u52a8\u65f6\u5f39\u51fa\u5185\u5bb9\u4f1a\u8ddf\u968f\u3002"),(0,r.kt)("li",{parentName:"ol"},"\u5f39\u51fa\u5185\u5bb9\u5728\u680b\u9875\u9762\u4e0d\u663e\u793a\u7684\u5730\u65b9\u65f6\uff0c\u4f1a\u7ffb\u8f6c\u5230\u53cd\u65b9\u5411\u3002")),(0,r.kt)(a.Z,{mdxType:"Demo"},(0,r.kt)(y,{mdxType:"TooltipDemo"})),(0,r.kt)("p",null,"\u53ef\u4ee5\u505a\u64cd\u4f5c\u4e0b\u62c9\u6846"),(0,r.kt)(a.Z,{mdxType:"Demo"},(0,r.kt)(M,{mdxType:"OpDropdownDemo"})))}$.isMDXComponent=!0},3282:(e,t,n)=>{n.d(t,{Z:()=>a});var l=n(8404),o=n(6776),r=n(4640);const a=e=>{let{children:t,contentSize:n="full",padding:a="p-12",className:s,browserOnly:i=!0}=e;const m="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],c=l.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${a}\n    `},l.createElement("div",{className:(0,r.Z)(m,"mx-auto",s)},t));return l.createElement(l.Fragment,null,i?l.createElement(o.Z,null,(()=>l.createElement(l.Fragment,null,c))):c)}}}]);