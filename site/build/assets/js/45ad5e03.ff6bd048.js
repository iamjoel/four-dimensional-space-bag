"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9692],{8408:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>O,contentTitle:()=>R,default:()=>A,frontMatter:()=>S,metadata:()=>I,toc:()=>H});var l=n(1516),o=n(6844),a=n(8656),r=n(8128),c=n(3852),s=n(437),m=n(3286),i=n(2668),d=n(5440);const p=o.createContext(null);function u(){const e=o.useContext(p);if(null==e)throw new Error("PortalToFollowElem components must be wrapped in <PortalToFollowElem />");return e}function f(e){let{children:t,...n}=e;const l=function(e){let{placement:t="bottom",open:n,offset:l=0,onOpenChange:a}=void 0===e?{}:e;const r=a,c=(0,m.gR)({placement:t,open:n,onOpenChange:r,whileElementsMounted:i.kN,middleware:[(0,d.E3)(l),(0,i.EB)({crossAxis:t.includes("-"),fallbackAxisSideDirection:"start",padding:5}),(0,i.CA)({padding:5})]}),s=c.context,p=(0,m.oF)(s,{move:!1,enabled:null==n}),u=(0,m.ye)(s,{enabled:null==n}),f=(0,m.ug)(s),g=(0,m.a4)(s,{role:"tooltip"}),E=(0,m.M3)([p,u,f,g]);return o.useMemo((()=>({open:n,setOpen:r,...E,...c})),[n,r,E,c])}(n);return o.createElement(p.Provider,{value:l},t)}const g=o.forwardRef(((e,t)=>{let{children:n,asChild:a=!1,...r}=e;const c=u(),s=n.ref,i=(0,m.m6)([c.refs.setReference,t,s]);return a&&o.isValidElement(n)?o.cloneElement(n,c.getReferenceProps({ref:i,...r,...n.props,"data-state":c.open?"open":"closed"})):o.createElement("div",(0,l.c)({ref:i,className:"inline-block","data-state":c.open?"open":"closed"},c.getReferenceProps(r)),n)}));g.displayName="PortalToFollowElemTrigger";const E=o.forwardRef(((e,t)=>{let{style:n,...a}=e;const r=u(),c=(0,m.m6)([r.refs.setFloating,t]);return r.open?o.createElement(m.W2,null,o.createElement("div",(0,l.c)({ref:c,style:{...r.floatingStyles,...n}},r.getFloatingProps(a)))):null}));E.displayName="PortalToFollowElemContent";const y=c.c.Group;const h=function(){const[e,t]=(0,o.useState)(!1),[n,l]=(0,o.useState)("top"),[a,r]=(0,o.useState)("middle"),m="middle"===a?n:`${n}-${a}`,[i,d]=(0,o.useState)(0);return(0,o.useEffect)((()=>{t(!0)}),[m,i]),o.createElement("div",null,o.createElement("div",{className:"overflow-y-auto h-[200px]"},o.createElement("div",{className:"flex justify-center h-[400px]"},o.createElement(f,{open:e,onOpenChange:t,placement:m,offset:i},o.createElement(g,{className:"h-40",onClick:()=>t((e=>!e))},o.createElement(c.c,{type:"outline",className:"w-40 !h-40"},"Click me")),o.createElement(E,{className:"z-50"},o.createElement(c.c,{type:"primary"},"My tooltip"))))),o.createElement("div",{className:"mt-10 space-y-2"},o.createElement("div",null,"\u65b9\u5411\uff1a",o.createElement(y,null,o.createElement(c.c,{type:"top"===n?"primary":"outline",shape:"round",onClick:()=>l("top")},"\u4e0a"),o.createElement(c.c,{type:"bottom"===n?"primary":"outline",shape:"round",onClick:()=>l("bottom")},"\u4e0b"),o.createElement(c.c,{type:"left"===n?"primary":"outline",shape:"round",onClick:()=>l("left")},"\u5de6"),o.createElement(c.c,{type:"right"===n?"primary":"outline",shape:"round",onClick:()=>l("right")},"\u53f3"))),o.createElement("div",null,"\u4fa7\u8f74\u65b9\u5411\uff1a",o.createElement(y,null,o.createElement(c.c,{type:"start"===a?"primary":"outline",shape:"round",onClick:()=>r("start")},"\u5f00\u59cb"),o.createElement(c.c,{type:"middle"===a?"primary":"outline",shape:"round",onClick:()=>r("middle")},"\u5c45\u4e2d"),o.createElement(c.c,{type:"end"===a?"primary":"outline",shape:"round",onClick:()=>r("end")},"\u7ed3\u675f"))),o.createElement("div",{className:"flex space-x-2 items-center"},o.createElement("div",{className:"shrink-0"},"\u79bb Trigger \u7684\u8ddd\u79bb"),o.createElement(s.c,{value:i,onChange:d}))))};var v=n(8424),w=n(9316),b=n.n(w),x=n(638);const N="actionItem_gvHT",C="btn_crdi",k="open_HwxH",T=e=>{let{isItemHovering:t}=e;const[n,l]=(0,o.useState)(!1),a=(0,o.useRef)(null),[r,{setTrue:c,setFalse:s}]=(0,x.c)(!1);return(0,o.useEffect)((()=>{t||r||l(!1)}),[t,r]),o.createElement(f,{open:n,onOpenChange:l,placement:"bottom-end",offset:4},o.createElement(g,{onClick:()=>l((e=>!e))},o.createElement("div",{className:b()(C,"h-6 w-6 rounded-md border-none py-1",n&&`${k} !bg-gray-100 !shadow-none`)})),o.createElement(E,{className:"z-50"},o.createElement("div",{ref:a,className:"min-w-[120px] p-1 bg-white rounded-lg border border--gray-200 shadow-lg",onMouseEnter:c,onMouseLeave:s,onClick:e=>{e.stopPropagation()}},o.createElement("div",{className:b()(N,"hover:bg-gray-50 group")},"\u521b\u5efa"))))},P=o.memo(T);function F(e){let{name:t}=e;const n=(0,o.useRef)(null),l=(0,v.c)(n);return o.createElement("div",{ref:n,className:"flex h-8 items-center justify-between hover:bg-gray-200 px-2 rounded-lg text-sm font-normal"},o.createElement("div",null,t),o.createElement("div",{className:"shrink-0 h-6"},o.createElement(P,{isItemHovering:l})))}const M=()=>o.createElement("div",null,o.createElement("div",null,"\u79fb\u5230item\u53f3\u4fa7\uff0c\u70b9\u51fb \u6309\u94ae"),o.createElement("div",{className:"w-[300px] p-1 space-y-1 bg-white rounded-md shadow-md"},["Item1","Item2","Item3"].map((e=>o.createElement(F,{key:e,name:e}))))),D=o.memo(M),S={},R="\u5143\u7d20\u8ddf\u968f(Portal to follow elem)",I={unversionedId:"frontend/scenario/portal/index",id:"frontend/scenario/portal/index",title:"\u5143\u7d20\u8ddf\u968f(Portal to follow elem)",description:"\u57fa\u4e8e\uff1afloating-ui \u505a\u7684\u5c01\u88c5\u3002",source:"@site/docs/frontend/scenario/portal/index.mdx",sourceDirName:"frontend/scenario/portal",slug:"/frontend/scenario/portal/",permalink:"/four-dimensional-space-bag/site/build/docs/frontend/scenario/portal/",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"frontend",previous:{title:"\u89e3\u6790&\u751f\u6210 CSV",permalink:"/four-dimensional-space-bag/site/build/docs/frontend/scenario/csv/"},next:{title:"\u62d6\u653e\u751f\u6210\u9875\u9762",permalink:"/four-dimensional-space-bag/site/build/docs/frontend/scenario/dnd-page/"}},O={},H=[],$={toc:H},z="wrapper";function A(e){let{components:t,...n}=e;return(0,a.yg)(z,(0,l.c)({},$,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h1",{id:"\u5143\u7d20\u8ddf\u968fportal-to-follow-elem"},"\u5143\u7d20\u8ddf\u968f(Portal to follow elem)"),(0,a.yg)("p",null,"\u57fa\u4e8e\uff1a",(0,a.yg)("a",{parentName:"p",href:"https://floating-ui.com"},"floating-ui")," \u505a\u7684\u5c01\u88c5\u3002\n\u53ef\u4ee5\u505a Tooltip\u3002\u529f\u80fd\uff1a"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"\u63a7\u5236\u5f39\u51fa\u5185\u5bb9\u7684\u65b9\u5411\u3002\u4e0a\u4e0b\u5de6\u53f3\uff0c\u4ee5\u53ca\u4fa7\u8f74\u7684\u5f00\u59cb\uff0c\u5c45\u4e2d\uff0c\u7ed3\u675f\u3002"),(0,a.yg)("li",{parentName:"ol"},"\u5f39\u51fa\u5185\u5bb9\u662f Portal \u5230 body \u4e0b\u7684\u3002"),(0,a.yg)("li",{parentName:"ol"},"\u6eda\u52a8\u65f6\u5f39\u51fa\u5185\u5bb9\u4f1a\u8ddf\u968f\u3002"),(0,a.yg)("li",{parentName:"ol"},"\u5f39\u51fa\u5185\u5bb9\u5728\u680b\u9875\u9762\u4e0d\u663e\u793a\u7684\u5730\u65b9\u65f6\uff0c\u4f1a\u7ffb\u8f6c\u5230\u53cd\u65b9\u5411\u3002")),(0,a.yg)(r.c,{mdxType:"Demo"},(0,a.yg)(h,{mdxType:"TooltipDemo"})),(0,a.yg)("p",null,"\u53ef\u4ee5\u505a\u64cd\u4f5c\u4e0b\u62c9\u6846"),(0,a.yg)(r.c,{mdxType:"Demo"},(0,a.yg)(D,{mdxType:"OpDropdownDemo"})))}A.isMDXComponent=!0},8128:(e,t,n)=>{n.d(t,{c:()=>r});var l=n(6844),o=n(3656),a=n(816);const r=e=>{let{children:t,contentSize:n="full",padding:r="p-12",className:c,browserOnly:s=!0}=e;const m="full"===n?"":{sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg"}[n],i=l.createElement("div",{className:`\n      mb-2\n      rounded-sm\n      border border-solid border-gray-100 \n      shadow-md\n      ${r}\n    `},l.createElement("div",{className:(0,a.c)(m,"mx-auto",c)},t));return l.createElement(l.Fragment,null,s?l.createElement(o.c,null,(()=>l.createElement(l.Fragment,null,i))):i)}}}]);